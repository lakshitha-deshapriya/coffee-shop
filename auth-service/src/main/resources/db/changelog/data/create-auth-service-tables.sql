CREATE TABLE APP_USER (
            USER_ID         SERIAL NOT NULL PRIMARY KEY,
            USERNAME        VARCHAR(255) NOT NULL UNIQUE,
            NAME            VARCHAR(255) NOT NULL,
            PASSWORD        VARCHAR(255) NOT NULL,
            MOBILE_NO       VARCHAR(15) NOT NULL);
COMMENT ON TABLE APP_USER IS 'User of app';
COMMENT ON COLUMN APP_USER.USER_ID IS 'User Id of User';
COMMENT ON COLUMN APP_USER.USERNAME IS 'Username of user';
COMMENT ON COLUMN APP_USER.NAME IS 'Name of User';
COMMENT ON COLUMN APP_USER.PASSWORD IS 'Password of User';
COMMENT ON COLUMN APP_USER.MOBILE_NO IS 'Mobile No of user';

CREATE TABLE CUSTOMER (
            USER_ID         INT4 NOT NULL PRIMARY KEY,
            ADDRESS         VARCHAR(500) NOT NULL);
COMMENT ON TABLE CUSTOMER IS 'Customer of app';
COMMENT ON COLUMN CUSTOMER.USER_ID IS 'User Id of Customer';
COMMENT ON COLUMN CUSTOMER.ADDRESS IS 'Address of Customer';

ALTER TABLE CUSTOMER ADD CONSTRAINT FK_CUSTOMER_USER FOREIGN KEY (USER_ID) REFERENCES APP_USER (USER_ID);

CREATE TABLE ROLE (
            ROLE_ID         SERIAL NOT NULL PRIMARY KEY,
            CODE            VARCHAR(10) NOT NULL UNIQUE,
            DESCRIPTION     VARCHAR(255));
COMMENT ON TABLE ROLE IS 'User roles';
COMMENT ON COLUMN ROLE.ROLE_ID IS 'Role ID';
COMMENT ON COLUMN ROLE.CODE IS 'Role code';
COMMENT ON COLUMN ROLE.DESCRIPTION IS 'Role description';

CREATE TABLE USER_ROLE (
            ID              SERIAL NOT NULL PRIMARY KEY,
            USER_ID         INT4 NOT NULL,
            ROLE_ID         INT4 NOT NULL);
COMMENT ON TABLE USER_ROLE IS 'Roles of User';
COMMENT ON COLUMN USER_ROLE.ID IS 'Id of user role mapping';
COMMENT ON COLUMN USER_ROLE.USER_ID IS 'User id of user role mapping';
COMMENT ON COLUMN USER_ROLE.ROLE_ID IS 'Role of role user role mapping';

ALTER TABLE USER_ROLE ADD CONSTRAINT FK_USER_ROLE_USER FOREIGN KEY (USER_ID) REFERENCES APP_USER (USER_ID);
ALTER TABLE USER_ROLE ADD CONSTRAINT FK_USER_ROLE_ROLE FOREIGN KEY (ROLE_ID) REFERENCES ROLE (ROLE_ID);